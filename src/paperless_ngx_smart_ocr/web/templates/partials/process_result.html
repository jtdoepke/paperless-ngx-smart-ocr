<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4">
  <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-3">
    {% if result.dry_run %}Dry Run Result{% else %}Processing Result{% endif %}
  </h3>

  <!-- Status -->
  <div class="flex items-center space-x-2 mb-3">
    {% if result.success %}
    <span class="w-2 h-2 rounded-full bg-green-500"></span>
    <span class="text-sm text-green-700 dark:text-green-400">Success</span>
    {% else %}
    <span class="w-2 h-2 rounded-full bg-red-500"></span>
    <span class="text-sm text-red-700 dark:text-red-400">Failed</span>
    {% endif %}
  </div>

  {% if result.error %}
  <div class="mb-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-sm text-red-700 dark:text-red-300">
    {{ result.error }}
  </div>
  {% endif %}

  <!-- Stage results -->
  <dl class="text-sm space-y-2">
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Stage 1 (OCR)</dt>
      <dd>
        {% if result.stage1_skipped_by_config %}
        <span class="text-gray-400 dark:text-gray-500">Skipped (disabled)</span>
        {% elif result.stage1_result %}
          {% if result.stage1_result.success %}
          <span class="text-green-600 dark:text-green-400">Completed</span>
          {% else %}
          <span class="text-red-600 dark:text-red-400">Failed</span>
          {% endif %}
        {% else %}
        <span class="text-gray-400 dark:text-gray-500">Not run</span>
        {% endif %}
      </dd>
    </div>
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Stage 2 (Markdown)</dt>
      <dd>
        {% if result.stage2_skipped_by_config %}
        <span class="text-gray-400 dark:text-gray-500">Skipped (disabled)</span>
        {% elif result.stage2_result %}
          {% if result.stage2_result.success %}
          <span class="text-green-600 dark:text-green-400">Completed</span>
          {% else %}
          <span class="text-red-600 dark:text-red-400">Failed</span>
          {% endif %}
        {% else %}
        <span class="text-gray-400 dark:text-gray-500">Not run</span>
        {% endif %}
      </dd>
    </div>
    {% if result.processing_time_seconds is not none %}
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Processing time</dt>
      <dd class="text-gray-900 dark:text-gray-100">{{ "%.1f" | format(result.processing_time_seconds) }}s</dd>
    </div>
    {% endif %}
    {% if result.dry_run %}
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Content updated</dt>
      <dd class="text-gray-400 dark:text-gray-500">No (dry run)</dd>
    </div>
    {% else %}
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Content updated</dt>
      <dd class="text-gray-900 dark:text-gray-100">{{ "Yes" if result.content_updated else "No" }}</dd>
    </div>
    <div class="flex items-center justify-between">
      <dt class="text-gray-500 dark:text-gray-400">Tags updated</dt>
      <dd class="text-gray-900 dark:text-gray-100">{{ "Yes" if result.tags_updated else "No" }}</dd>
    </div>
    {% endif %}
  </dl>
</div>
